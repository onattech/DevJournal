"use strict";(self.webpackChunkdev_journal=self.webpackChunkdev_journal||[]).push([[470],{9613:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>g});var n=a(9496);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=n.createContext({}),c=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},u=function(e){var t=c(e.components);return n.createElement(s.Provider,{value:t},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},h=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),p=c(a),h=r,g=p["".concat(s,".").concat(h)]||p[h]||d[h]||i;return a?n.createElement(g,l(l({ref:t},u),{},{components:a})):n.createElement(g,l({ref:t},u))}));function g(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,l=new Array(i);l[0]=h;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[p]="string"==typeof e?e:r,l[1]=o;for(var c=2;c<i;c++)l[c]=a[c];return n.createElement.apply(null,l)}return n.createElement.apply(null,a)}h.displayName="MDXCreateElement"},9550:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>d,frontMatter:()=>i,metadata:()=>o,toc:()=>c});var n=a(1163),r=(a(9496),a(9613));const i={sidebar_position:2},l="Algolia setup",o={unversionedId:"tutorial-docusaurus/algolia-setup",id:"tutorial-docusaurus/algolia-setup",title:"Algolia setup",description:"Algolia dashboard settings",source:"@site/docs/tutorial-docusaurus/algolia-setup.md",sourceDirName:"tutorial-docusaurus",slug:"/tutorial-docusaurus/algolia-setup",permalink:"/docs/tutorial-docusaurus/algolia-setup",draft:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"CI with Github Actions",permalink:"/docs/tutorial-docusaurus/ci-with-github-actions"},next:{title:"Custom Fonts",permalink:"/docs/tutorial-docusaurus/custom-fonts"}},s={},c=[{value:"Algolia dashboard settings",id:"algolia-dashboard-settings",level:3},{value:"Docusaurus settings",id:"docusaurus-settings",level:3}],u={toc:c},p="wrapper";function d(e){let{components:t,...i}=e;return(0,r.kt)(p,(0,n.Z)({},u,i,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"algolia-setup"},"Algolia setup"),(0,r.kt)("h3",{id:"algolia-dashboard-settings"},"Algolia dashboard settings"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Sign up for an account with ",(0,r.kt)("a",{parentName:"li",href:"https://www.algolia.com/users/sign_up"},"Algolia")),(0,r.kt)("li",{parentName:"ul"},"Go to ",(0,r.kt)("a",{parentName:"li",href:"https://www.algolia.com/dashboard"},"dashboard")),(0,r.kt)("li",{parentName:"ul"},"Click on API Keys ",(0,r.kt)("img",{alt:"Api Key",src:a(2670).Z,width:"1441",height:"1086"})),(0,r.kt)("li",{parentName:"ul"},"Make note of the Application ID, we will need it ",(0,r.kt)("img",{alt:"App ID",src:a(5248).Z,width:"1441",height:"1086"})),(0,r.kt)("li",{parentName:"ul"},"Click on All API Keys ",(0,r.kt)("img",{alt:"All API Keys",src:a(682).Z,width:"1441",height:"1086"})),(0,r.kt)("li",{parentName:"ul"},"Click on New API Key ",(0,r.kt)("img",{alt:"New API Key",src:a(9068).Z,width:"1441",height:"1086"})),(0,r.kt)("li",{parentName:"ul"},"Scroll to the bottom and add ",(0,r.kt)("inlineCode",{parentName:"li"},"addObject"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"deleteIndex")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"editSettings")," to the ACL list\nand click on ",(0,r.kt)("inlineCode",{parentName:"li"},"Create")," ",(0,r.kt)("img",{alt:"ACL",src:a(2907).Z,width:"1441",height:"1086"})),(0,r.kt)("li",{parentName:"ul"},"Make note of the API Key, we will need it ",(0,r.kt)("img",{alt:"API Key",src:a(5913).Z,width:"1441",height:"1086"})),(0,r.kt)("li",{parentName:"ul"},"Now we need to create an index, click on search ",(0,r.kt)("img",{alt:"Search",src:a(4595).Z,width:"1441",height:"1086"})),(0,r.kt)("li",{parentName:"ul"},"Click on create index, give it the name index and click create ",(0,r.kt)("img",{alt:"Create Index",src:a(7033).Z,width:"1441",height:"1086"})),(0,r.kt)("li",{parentName:"ul"},"We are done with Algolia dashboard settings \ud83c\udf89\ufe0f")),(0,r.kt)("h3",{id:"docusaurus-settings"},"Docusaurus settings"),(0,r.kt)("p",null,"Add below snippet with your credentials we noted above inside the themeConfig object"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js",metastring:"title=./docusaurus.config.js",title:"./docusaurus.config.js"},'algolia: {\n    appId: "your_app_id",\n    apiKey: "your_api_key",\n    indexName: \'index\',\n    contextualSearch: true,\n    searchParameters: {},\n},\n')),(0,r.kt)("p",null,"Make a file in the root directory called ",(0,r.kt)("inlineCode",{parentName:"p"},"config.json")," and paste the below code in it. Replace the address with your own at the highlighted line. Leave ",(0,r.kt)("inlineCode",{parentName:"p"},"/sitemap.xml")," at the end."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json",metastring:"{3}","{3}":!0},'{\n    "index_name": "index",\n    "sitemap_urls": ["https://your_website.com/sitemap.xml"],\n    "sitemap_alternate_links": true,\n    "selectors": {\n        "lvl0": {\n            "selector": "(//ul[contains(@class,\'menu__list\')]//a[contains(@class, \'menu__link menu__link--sublist menu__link--active\')]/text() | //nav[contains(@class, \'navbar\')]//a[contains(@class, \'navbar__link--active\')]/text())[last()]",\n            "type": "xpath",\n            "global": true,\n            "default_value": "Documentation"\n        },\n        "lvl1": "header h1",\n        "lvl2": "article h2",\n        "lvl3": "article h3",\n        "lvl4": "article h4",\n        "lvl5": "article h5, article td:first-child",\n        "lvl6": "article h6",\n        "text": "article p, article li, article td:last-child"\n    },\n    "strip_chars": " .,;:#",\n    "custom_settings": {\n        "separatorsToIndex": "_",\n        "attributesForFaceting": [\n            "language",\n            "version",\n            "type",\n            "docusaurus_tag"\n        ],\n        "attributesToRetrieve": [\n            "hierarchy",\n            "content",\n            "anchor",\n            "url",\n            "url_without_anchor",\n            "type"\n        ]\n    },\n    "conversation_id": ["833762294"],\n    "nb_hits": 46250\n}\n')),(0,r.kt)("p",null,"Also make a ",(0,r.kt)("inlineCode",{parentName:"p"},".env")," file at the root level of your project if you already don't have one and add your credentials in it."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js",metastring:"title=./.env",title:"./.env"},"APPLICATION_ID = your_app_id\nAPI_KEY = your_app_key\n")),(0,r.kt)("p",null,"We need install a small dependency called jq. Get it ",(0,r.kt)("a",{parentName:"p",href:"https://stedolan.github.io/jq/download/"},"here")),(0,r.kt)("p",null,"Install docker from ",(0,r.kt)("a",{parentName:"p",href:"https://www.docker.com/"},"here")),(0,r.kt)("p",null,"Finally, run the below command in a terminal at the path of your project root and you should now have an index! \ud83c\udf89\ufe0f"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'docker run -it --env-file=.env -e "CONFIG=$(cat ./config.json | jq -r tostring)" algolia/docsearch-scraper\n')),(0,r.kt)("p",null,"Here's what the output should look like ",(0,r.kt)("img",{alt:"Output",src:a(6484).Z,width:"1441",height:"1086"})))}d.isMDXComponent=!0},2907:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/acl-64cf592afdbb3c2506e48a184963363d.png"},682:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/allApiKeys-260f159e149987e6d02acf8c0634e672.png"},2670:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/apiKey-48d5a376055b36c1575c5ffa8fb52f84.png"},5913:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/apiKeyACL-0fa9bd6074be0ab85979392901470cbf.png"},5248:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/appId-076f0222f6ffa0d284d9de2563953412.png"},7033:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/createIndex-4ae7320fffa95d026af5ca195131cac5.png"},6484:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/dockerResults-ff9e87e239ef719aad0588f00b5e23f6.png"},9068:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/newApiKey-c4659fa53f51f0da3f789fec75c23ff5.png"},4595:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/search-87971c17589c2513e48bc1b32648110e.png"}}]);